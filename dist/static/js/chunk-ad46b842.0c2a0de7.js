(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad46b842"],{"3cd9":function(t,e,n){},"5b0d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"tron-content"},[n("div",{staticClass:"tron-filter-section"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.addBranchFun()}}},[t._v(t._s(t.$t("tronNewBranch")))])],1),t._v(" "),n("div",{staticClass:"filter-container tron-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",data:t.list,"tooltip-effect":"dark",border:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"branch",label:t.$t("tronBranchName"),align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"branchNote",label:t.$t("tronBranchNote"),align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"branch_status",label:t.$t("tronBranchStatus"),align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("tronBranchOperate"),align:"center"}},[n("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.modifyBranchFun}},[t._v(t._s(t.$t("tronBranchPperateModify")))])],1)],1)],1)]),t._v(" "),n("operate-branch",{attrs:{branchDialogVisible:t.branchObj.visible,detailInfoData:t.branchObj.detail},on:{dialog:t.branchDetailFun,addBranchSuccess:t.addBranchSuccessFun}})],1)},i=[],r=n("6706"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"viewBranchDialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.classLoading,expression:"classLoading"}],attrs:{title:t.$t("tronNewBranch"),visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px",center:""},on:{open:t.openDialogFun,close:t.closeFun,"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"branchDialogForm",staticClass:"tronBranchForm",attrs:{rules:t.branchRules,model:t.branchForm,"label-width":"120px","label-position":"left"}},[n("el-form-item",{attrs:{label:t.$t("tronBranchName"),prop:"branch"}},[n("el-select",{attrs:{placeholder:t.$t("tronBranchNamePlaceholder")},model:{value:t.branchForm.branch,callback:function(e){t.$set(t.branchForm,"branch",e)},expression:"branchForm.branch"}},t._l(t.branchAry,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("tronBranchNote"),prop:"branchNote"}},[n("el-input",{attrs:{type:"textarea",maxlength:20,placeholder:t.$t("tronBranchNotePlaceholder")},model:{value:t.branchForm.branchNote,callback:function(e){t.$set(t.branchForm,"branchNote",e)},expression:"branchForm.branchNote"}})],1),t._v(" "),n("el-form-item",{staticClass:"textCenter",attrs:{"label-width":"0"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveData("branchDialogForm")}}},[t._v(t._s(t.$t("tronBranchSave")))]),t._v(" "),n("el-button",{on:{click:t.cancelFun}},[t._v(t._s(t.$t("tronBranchCancel")))])],1)],1)],1)],1)},c=[],l={name:"operationBranch",props:["branchDialogVisible","detailInfoData","editStatus"],data:function(){return{classLoading:!1,dialogVisible:this.branchDialogVisible,branchForm:{branch:"",branchNote:""},branchAry:[{id:0,label:"master",value:"master"},{id:1,label:"develop",value:"develop"}],branchRules:{branch:[{required:!0,message:this.$t("tronBranchCodePlaceholder"),trigger:"change"}],branchNote:{required:!0,message:this.$t("tronBranchNotePlaceholder"),trigger:"change"}}}},methods:{openDialogFun:function(){},closeFun:function(){this.$refs.branchDialogForm.resetFields(),this.dialogVisible=!1},cancelFun:function(){this.$refs.branchDialogForm.resetFields(),this.dialogVisible=!1},saveData:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(r["b"])(e.branchForm).then((function(t){e.$emit("addBranchSuccess",!0),e.$refs.branchDialogForm.resetFields(),e.$message.success(e.$t("tronBranchAddSuccess")),e.dialogVisible=!1})).catch((function(t){console.log(t)}))}))}},watch:{detailInfoData:function(t){console.log(t),this.branchForm=this.detailInfoData},branchDialogVisible:function(t){this.dialogVisible=t},dialogVisible:function(t){this.$emit("dialog",t)}}},s=l,h=(n("a1ef"),n("2877")),u=Object(h["a"])(s,o,c,!1,null,"7a69634c",null),b=u.exports,d={name:"nodelist",components:{operateBranch:b},data:function(){return{list:[],listLoading:!1,filterItem:{name:""},listQuery:{limit:20,page:1,total:0},branchObj:{visible:!1,detail:{}}}},computed:{parames:function(){return Object.assign(this.filterItem,this.listQuery)}},created:function(){this.getDataListFun()},methods:{addBranchFun:function(){1!==this.list.length?this.branchObj.visible=!0:this.$message(this.$t("tronBranchTipsInfo"))},modifyBranchFun:function(){this.branchObj.detail=this.list[0],this.branchObj.visible=!0},getDataListFun:function(){var t=this;Object(r["a"])().then((function(t){return t.data})).then((function(e){t.list.push(e)})).catch((function(t){console.log(t)}))},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.listQuery.page=t,this.getDataListFun()},branchDetailFun:function(t){this.branchObj.visible=t},addBranchSuccessFun:function(t){t&&(this.list=[],this.getDataListFun())}}},f=d,m=(n("7341"),Object(h["a"])(f,a,i,!1,null,"32296840",null));e["default"]=m.exports},"5f73":function(t,e,n){},6706:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var a=n("b775");function i(t){return Object(a["a"])({url:"/projectBranch",method:"post",params:t})}function r(t){return Object(a["a"])({url:"/projectBranch",method:"get",params:t})}},7341:function(t,e,n){"use strict";var a=n("5f73"),i=n.n(a);i.a},a1ef:function(t,e,n){"use strict";var a=n("3cd9"),i=n.n(a);i.a}}]);