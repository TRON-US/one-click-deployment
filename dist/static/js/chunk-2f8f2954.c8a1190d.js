(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f8f2954"],{"5ce7":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"tron-content"},[o("div",{staticClass:"tron-filter-section"},[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addNodeFun()}}},[e._v(e._s(e.$t("tronNodeAdd")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){}}},[e._v(e._s(e.$t("tronNodeBulkDeployment")))])],1),e._v(" "),o("div",{staticClass:"filter-container tron-table"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"empty-text":e.$t("tronNodesNoData"),data:e.list,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),o("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"nodeName",label:e.$t("tronNodeName"),align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"ip",label:"IP/HOST",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{prop:"port",label:"SSH PORT",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("tronNodeWhetherIsSR"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isSR?o("el-tag",{attrs:{type:"success"}},[e._v("yes")]):o("el-tag",{attrs:{type:"danger"}},[e._v("no")])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:e.$t("tronNodeStatus"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?o("span",[e._v("成功")]):o("span",[e._v("-")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("tronNodeOperate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(o){return e.operateNodeFun(t.row)}}},[e._v(e._s(e.$t("tronNodeOperate")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteNodeListFun(t.row.id)}}},[e._v(e._s(e.$t("tronNodeDelete")))])]}}])})],1)],1)]),e._v(" "),o("operate-node",{attrs:{nodeDialogVisible:e.nodeObj.visible,editStatus:e.nodeObj.status,detailInfoData:e.nodeObj.detail},on:{dialog:e.nodeDetailFun,addNodeSuccess:e.addNodeSuccessFun}})],1)},i=[],a=o("b775");function l(e){return Object(a["a"])({url:"/nodeInfo",method:"post",params:e})}function s(e){return Object(a["a"])({url:"/nodeInfo",method:"delete",params:e})}function r(e){return Object(a["a"])({url:"/nodeInfo",method:"PUT",params:e})}function d(e){return Object(a["a"])({url:"/allNodeInfo",method:"get",params:e})}var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"viewnodeDialog"},[o("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.classLoading,expression:"classLoading"}],attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"650px",center:""},on:{open:e.openDialogFun,close:e.closeFun,"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"nodeDialogForm",staticClass:"nodeDialogForm",attrs:{rules:e.nodeRules,model:e.nodeForm,"label-width":"130px","label-position":"left"}},[o("el-form-item",{attrs:{label:"ID",prop:"id"}},[o("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronNodeIDPlaceholder")},model:{value:e.nodeForm.id,callback:function(t){e.$set(e.nodeForm,"id",t)},expression:"nodeForm.id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("tronNodeName"),prop:"nodeName"}},[o("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronNodeNamePlaceholder")},model:{value:e.nodeForm.nodeName,callback:function(t){e.$set(e.nodeForm,"nodeName",t)},expression:"nodeForm.nodeName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"IP/HOST",prop:"ip"}},[o("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronNodeIpPlaceholder")},model:{value:e.nodeForm.ip,callback:function(t){e.$set(e.nodeForm,"ip",t)},expression:"nodeForm.ip"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"PORT",prop:"port"}},[o("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronNodePortPlaceholder")},model:{value:e.nodeForm.port,callback:function(t){e.$set(e.nodeForm,"port",t)},expression:"nodeForm.port"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("tronNodeWhetherIsSR"),prop:"isSR"}},[o("el-select",{attrs:{placeholder:e.$t("tronNodeSRPlaceholder")},model:{value:e.nodeForm.isSR,callback:function(t){e.$set(e.nodeForm,"isSR",t)},expression:"nodeForm.isSR"}},e._l(e.srAry,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),o("el-form-item",{staticClass:"textCenter",attrs:{"label-width":"0"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveData("nodeDialogForm")}}},[e._v(e._s(e.$t("tronNodeSave")))]),e._v(" "),o("el-button",{on:{click:e.cancelFun}},[e._v(e._s(e.$t("tronNodeCancel")))])],1)],1)],1)],1)},u=[],m={name:"operationNode",props:["nodeDialogVisible","detailInfoData","editStatus"],data:function(){return{classLoading:!1,dialogVisible:this.nodeDialogVisible,dialogTitle:1==this.editStatus?this.$t("tronNodeEditTitle"):this.$t("tronNodeAdd"),nodeForm:{id:"",nodeName:"",ip:"",port:"",isSR:""},srAry:[{id:0,label:"是",value:!0},{id:1,label:"否",value:!1}],nodeRules:{id:[{required:!0,message:this.$t("tronNodeIDPlaceholder"),trigger:"blur"}],nodeName:[{required:!0,message:this.$t("tronNodeNamePlaceholder"),trigger:"blur"}],ip:{required:!0,message:this.$t("tronNodeIpPlaceholder"),trigger:"blur"},port:{required:!0,message:this.$t("tronNodePortPlaceholder"),trigger:"blur"},isSR:{required:!0,message:this.$t("tronNodeSRPlaceholder"),trigger:"blur"}}}},methods:{openDialogFun:function(){},closeFun:function(){this.$refs.nodeDialogForm.resetFields(),this.dialogVisible=!1},cancelFun:function(){this.$refs.nodeDialogForm.resetFields(),this.dialogVisible=!1},saveData:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;1!=t.editStatus?l(t.nodeForm).then((function(e){t.$emit("addNodeSuccess",!0),t.$refs.nodeDialogForm.resetFields(),t.$message.success(t.$t("tronNodeAddSuccess")),t.dialogVisible=!1})).catch((function(e){console.log(e)})):r(t.nodeForm).then((function(e){t.$emit("addNodeSuccess",!0),t.$refs.nodeDialogForm.resetFields(),t.$message.success(t.$t("tronNodeAddSuccess")),t.dialogVisible=!1})).catch((function(e){console.log(e)}))}))}},watch:{detailInfoData:function(e){this.nodeForm=this.detailInfoData},nodeDialogVisible:function(e){this.dialogVisible=e},dialogVisible:function(e){this.$emit("dialog",e)}}},p=m,f=(o("5e68"),o("2877")),h=Object(f["a"])(p,c,u,!1,null,"cc8396ea",null),g=h.exports,b={name:"nodelist",components:{operateNode:g},data:function(){return{list:[],listLoading:!1,filterItem:{name:""},listQuery:{limit:20,page:1,total:0},nodeObj:{visible:!1,detail:{},status:0}}},computed:{},created:function(){this.getDataListFun()},methods:{addNodeFun:function(){this.nodeObj.visible=!0},operateNodeFun:function(e){this.nodeObj.detail=e,this.nodeObj.status=1,this.nodeObj.visible=!0},getDataListFun:function(){var e=this;d().then((function(e){return e.data})).then((function(t){e.list=t})).catch((function(e){console.log(e)}))},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.listQuery.limit=e,this.getDataListFun()},handleCurrentChange:function(e){this.listQuery.page=e,this.getDataListFun()},deleteNodeListFun:function(e){var t=this;this.$confirm(this.$t("tronNodesDeleteTips"),this.$t("tronNodesDeleteTipsTitle"),{confirmButtonText:this.$t("tronNodeDetermine"),cancelButtonText:this.$t("tronNodeCancel"),type:"warning"}).then((function(){s({id:e}).then((function(e){t.$message.success(t.$t("tronNodesDeleteSuccess")),t.getDataListFun()})).catch((function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},nodeDetailFun:function(e){this.nodeObj.visible=e},addNodeSuccessFun:function(e){e&&this.getDataListFun()}}},v=b,N=(o("c891"),Object(f["a"])(v,n,i,!1,null,"053431a6",null));t["default"]=N.exports},"5e68":function(e,t,o){"use strict";var n=o("f38e"),i=o.n(n);i.a},"9a63":function(e,t,o){},c891:function(e,t,o){"use strict";var n=o("9a63"),i=o.n(n);i.a},f38e:function(e,t,o){}}]);