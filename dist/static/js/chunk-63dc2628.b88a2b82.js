(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63dc2628"],{"38fa":function(e,t,a){},"5b0d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"tron-content"},[a("div",{staticClass:"tron-filter-section"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addBranchFun()}}},[e._v("新增分支")])],1),e._v(" "),a("div",{staticClass:"filter-container tron-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"empty-text":"暂无数据",data:e.list,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"branch_code",label:"分支编码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"branch_name",label:"分支名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"branch_status",label:"分支状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"note",label:"备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"}},[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.modifyBranchFun}},[e._v("修改分支信息")])],1)],1)],1)]),e._v(" "),a("operate-branch",{attrs:{branchDialogVisible:e.branchObj.visible,detailInfoData:e.branchObj.detail},on:{dialog:e.branchDetailFun}})],1)},i=[],l=a("6706"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"viewBranchDialog"},[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.classLoading,expression:"classLoading"}],attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px",center:""},on:{open:e.openDialogFun,close:e.closeFun,"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"branchDialogForm",staticClass:"tronBranchForm",attrs:{rules:e.branchRules,model:e.branchForm,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"分支编码",prop:"branchCode"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请填写分支编码"},model:{value:e.branchForm.branchCode,callback:function(t){e.$set(e.branchForm,"branchCode",t)},expression:"branchForm.branchCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分支名称",prop:"branchName"}},[a("el-select",{attrs:{placeholder:"请选择分支名称"},model:{value:e.branchForm.branchName,callback:function(t){e.$set(e.branchForm,"branchName",t)},expression:"branchForm.branchName"}},e._l(e.branchAry,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{type:"textarea",maxlength:20,placeholder:"请填写备注"},model:{value:e.branchForm.note,callback:function(t){e.$set(e.branchForm,"note",t)},expression:"branchForm.note"}})],1),e._v(" "),a("el-form-item",{staticClass:"textCenter",attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveData("branchDialogForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.cancelFun}},[e._v("取消")])],1)],1)],1)],1)},o=[],c={name:"operationBranch",props:["branchDialogVisible","detailInfoData","editStatus"],data:function(){return{classLoading:!1,dialogVisible:this.branchDialogVisible,dialogTitle:"新增分支",branchForm:{},branchAry:[{id:0,label:"master",value:"master"},{id:1,label:"dev",value:"dev"}],branchRules:{branchCode:[{required:!0,message:"请填写分支编码",trigger:"change"}],branchName:[{required:!0,message:"请选择分支名称",trigger:"change"}],note:{required:!0,message:"请填写备注",trigger:"change"}}}},methods:{openDialogFun:function(){},closeFun:function(){this.$refs.branchDialogForm.resetFields(),this.dialogVisible=!1},cancelFun:function(){this.$refs.branchDialogForm.resetFields(),this.dialogVisible=!1},saveData:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$set(t.branchForm,"nursery_id",t.$route.query.id)}))}},watch:{detailInfoData:function(e){this.branchForm=this.detailInfoData},branchDialogVisible:function(e){this.dialogVisible=e},dialogVisible:function(e){this.$emit("dialog",e)}}},s=c,b=(a("920f"),a("2877")),h=Object(b["a"])(s,r,o,!1,null,"77b16150",null),u=h.exports,d={name:"nodelist",components:{operateBranch:u},data:function(){return{list:[{id:0,branch_code:"123",branch_name:"dev",branch_status:!0,note:"暂无"}],listLoading:!1,filterItem:{name:""},listQuery:{limit:20,page:1,total:0},branchObj:{visible:!1,detail:{}}}},computed:{parames:function(){return Object.assign(this.filterItem,this.listQuery)}},created:function(){this.getDataListFun()},methods:{addBranchFun:function(){1!==this.list.length?this.branchObj.visible=!0:this.$message("已添加分支,请操作当前分支信息")},modifyBranchFun:function(){this.branchObj.detail={id:0,branch_code:"123",branch_name:"dev",branch_status:!0,note:"暂无"},this.branchObj.visible=!0},getDataListFun:function(){var e=this;Object(l["a"])().then((function(t){var a=t.items||[];e.list=a})).catch((function(e){console.log(e)}))},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.listQuery.limit=e,this.getDataListFun()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.listQuery.page=e,this.getDataListFun()},branchDetailFun:function(e){this.branchObj.visible=e}}},m=d,f=(a("de2e"),Object(b["a"])(m,n,i,!1,null,"2442f08f",null));t["default"]=f.exports},6706:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("b775");function i(e){return Object(n["a"])({url:"/getbranch",method:"get",params:e})}},"920f":function(e,t,a){"use strict";var n=a("e6d1"),i=a.n(n);i.a},de2e:function(e,t,a){"use strict";var n=a("38fa"),i=a.n(n);i.a},e6d1:function(e,t,a){}}]);